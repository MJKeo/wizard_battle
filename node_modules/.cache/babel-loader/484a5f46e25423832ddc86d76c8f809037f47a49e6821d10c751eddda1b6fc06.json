{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/Users/michaelkeohane/Documents/Projects/wizard_battle/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/Users/michaelkeohane/Documents/Projects/wizard_battle/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nimport Action from \"./action\";\nimport ActionType from \"../enums/actionType\";\nimport ActionTarget from \"../enums/actionTarget\";\nimport vary from \"../util/vary\";\nvar _healing_base = /*#__PURE__*/_classPrivateFieldLooseKey(\"healing_base\");\nclass Heal extends Action {\n  constructor(wizard) {\n    super(ActionType.HEAL, wizard.healing, Heal.ACCURACY, Heal.VARIANCE);\n    Object.defineProperty(this, _healing_base, {\n      value: _healing_base2\n    });\n    this.wizard = wizard;\n  }\n  toString() {\n    return [\"Heal Action:\", `  action_type: ${ActionType.HEAL.name}`, `  strength: ${this.strength.toFixed(2)}`, `  accuracy: ${this.accuracy.toFixed(2)}`, `  range: ${JSON.stringify(this.range())}`, `  mana_cost: ${this.mana_cost()}`].join(\"\\n\");\n  }\n  compact_effect() {\n    const [minVal, maxVal] = this.range();\n    return `Restore ${minVal}-${maxVal} health`;\n  }\n  perform_action_subclass(randomFn = Math.random) {\n    const healingBase = _classPrivateFieldLooseBase(this, _healing_base)[_healing_base]();\n    const healingAmount = Math.max(0, Math.round(vary(healingBase, this.variance, randomFn)));\n    return {\n      succeeded: true,\n      value: healingAmount,\n      action_type: ActionType.HEAL,\n      target: ActionTarget.SELF\n    };\n  }\n  range() {\n    const healingBase = _classPrivateFieldLooseBase(this, _healing_base)[_healing_base]();\n    const minVal = Math.round(healingBase * (1 - this.variance));\n    const maxVal = Math.round(healingBase * (1 + this.variance));\n    return [minVal, maxVal];\n  }\n  mana_cost() {\n    return 5;\n  }\n  overview() {\n    return [\"Action Type: 'HEAL'\", `Accuracy: ${100 * this.accuracy}%`, `Target: ${ActionTarget.SELF.name}`, `Mana Cost: ${this.mana_cost()}`, `Description: Restores ${this.range()[0]} to ${this.range()[1]} hp`].join(\", \");\n  }\n  failure_announcement(wizard) {\n    return `${wizard.name} casts heal... but it failed!`;\n  }\n  success_announcement(wizard, value) {\n    return `${wizard.name}  casts heal. ${Math.trunc(value)} health was restored!`;\n  }\n  action_target() {\n    return ActionTarget.SELF;\n  }\n  display_card() {\n    const [minVal, maxVal] = this.range();\n    return {\n      type: \"HEAL\",\n      range: this.range(),\n      element: null,\n      name: \"Heal\",\n      description: `Restores ${minVal}-${maxVal} health.`,\n      accuracy: this.accuracy,\n      mana_cost: this.mana_cost()\n    };\n  }\n}\nfunction _healing_base2() {\n  return 150 * (5 / 3) ** this.strength ** 1.8;\n}\nHeal.ACCURACY = 0.95;\nHeal.VARIANCE = 0.1;\nexport default Heal;","map":{"version":3,"names":["Action","ActionType","ActionTarget","vary","_healing_base","_classPrivateFieldLooseKey","Heal","constructor","wizard","HEAL","healing","ACCURACY","VARIANCE","Object","defineProperty","value","_healing_base2","toString","name","strength","toFixed","accuracy","JSON","stringify","range","mana_cost","join","compact_effect","minVal","maxVal","perform_action_subclass","randomFn","Math","random","healingBase","_classPrivateFieldLooseBase","healingAmount","max","round","variance","succeeded","action_type","target","SELF","overview","failure_announcement","success_announcement","trunc","action_target","display_card","type","element","description"],"sources":["/Users/michaelkeohane/Documents/Projects/wizard_battle/src/classes/heal.js"],"sourcesContent":["import Action from \"./action\";\nimport ActionType from \"../enums/actionType\";\nimport ActionTarget from \"../enums/actionTarget\";\nimport vary from \"../util/vary\";\n\nclass Heal extends Action {\n  static ACCURACY = 0.95;\n  static VARIANCE = 0.1;\n\n  constructor(wizard) {\n    super(ActionType.HEAL, wizard.healing, Heal.ACCURACY, Heal.VARIANCE);\n    this.wizard = wizard;\n  }\n\n  toString() {\n    return [\n      \"Heal Action:\",\n      `  action_type: ${ActionType.HEAL.name}`,\n      `  strength: ${this.strength.toFixed(2)}`,\n      `  accuracy: ${this.accuracy.toFixed(2)}`,\n      `  range: ${JSON.stringify(this.range())}`,\n      `  mana_cost: ${this.mana_cost()}`,\n    ].join(\"\\n\");\n  }\n\n  #healing_base() {\n    return 150 * (5 / 3) ** (this.strength ** 1.8);\n  }\n\n  compact_effect() {\n    const [minVal, maxVal] = this.range();\n    return `Restore ${minVal}-${maxVal} health`;\n  }\n\n  perform_action_subclass(randomFn = Math.random) {\n    const healingBase = this.#healing_base();\n    const healingAmount = Math.max(0, Math.round(vary(healingBase, this.variance, randomFn)));\n\n    return {\n      succeeded: true,\n      value: healingAmount,\n      action_type: ActionType.HEAL,\n      target: ActionTarget.SELF,\n    };\n  }\n\n  range() {\n    const healingBase = this.#healing_base();\n    const minVal = Math.round(healingBase * (1 - this.variance));\n    const maxVal = Math.round(healingBase * (1 + this.variance));\n    return [minVal, maxVal];\n  }\n\n  mana_cost() {\n    return 5;\n  }\n\n  overview() {\n    return [\n      \"Action Type: 'HEAL'\",\n      `Accuracy: ${100 * this.accuracy}%`,\n      `Target: ${ActionTarget.SELF.name}`,\n      `Mana Cost: ${this.mana_cost()}`,\n      `Description: Restores ${this.range()[0]} to ${this.range()[1]} hp`,\n    ].join(\", \");\n  }\n\n  failure_announcement(wizard) {\n    return `${wizard.name} casts heal... but it failed!`;\n  }\n\n  success_announcement(wizard, value) {\n    return `${wizard.name}  casts heal. ${Math.trunc(value)} health was restored!`;\n  }\n\n  action_target() {\n    return ActionTarget.SELF;\n  }\n\n  display_card() {\n    const [minVal, maxVal] = this.range();\n    return {\n      type: \"HEAL\",\n      range: this.range(),\n      element: null,\n      name: \"Heal\",\n      description: `Restores ${minVal}-${maxVal} health.`,\n      accuracy: this.accuracy,\n      mana_cost: this.mana_cost(),\n    };\n  }\n}\n\nexport default Heal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}